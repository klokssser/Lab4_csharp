# Лабораторная работа №4: Коллекции и перегрузка операторов (Вариант 11)

# Описание

Данный проект содержит решение задач лабораторной работы №4. Работа разделена на две логические части:

**Коллекции (Задания 1-5)**: Работа со стандартными коллекциями .NET (List, LinkedList, HashSet, Dictionary) и файловый ввод/вывод.

**Классы и операторы (Задания 6-7)**: Создание пользовательского типа данных LineSegment (Отрезок) и перегрузка операторов для него.

# Часть 1: Коллекции (Класс CollectionTasks)

Этот статический класс содержит методы для решения задач 1–5.


## 1. task1 (List)

**Задача**: Сформировать список, включив в него элементы, входящие одновременно в оба списка $L1$ и $L2$ (пересечение).

**Метод**: Используется LINQ метод Intersect.

**Тест**:
| Входные данные (L1) | Входные данные (L2) | Результат |
| :--- | :--- | :--- |
| [1, 2, 3, 4, 5] | [3, 4, 5, 6, 7] | [3, 4, 5] |

## 2. task2 (LinkedList)

**Задача**: В конец списка добавить все его элементы в обратном порядке.

**Метод**: Итерация исходного списка с конца и добавление элементов через AddLast.

**Тест**:
| Входные данные | Результат |
| :--- | :--- |
| [1, 2, 3] | [1, 2, 3, 3, 2, 1] |
| [10] | [10, 10] |

## 3. task3 (HashSet)

**Задача**: Анализ посещаемости ТРЦ студентами (множества).
* Где были все.
* Где был хотя бы один.
* Где не был никто.

**Метод**: Используются операции над множествами: IntersectWith (пересечение), UnionWith (объединение), ExceptWith (разность).

## 4. task4 (HashSet + Файлы)

**Задача**: Файл содержит текст на русском языке. Сколько разных букв встречается в тексте?

**Вход**: Текстовый файл.

**Логика**: Алгоритм считывает текст из файла, выделяет из него уникальные русские буквы (игнорируя регистр), используя HashSet<char> для хранения, а затем выводит их количество и список в алфавитном порядке.

## 5. task5 (Dictionary + Файлы)

**Задача**: Найти количество АЗС, продающих бензин (92, 95, 98) дешевле всего.

**Структура данных**: Dictionary<int, (int minPrice, int count)>.

**Логика**: При чтении файла обновляем минимальную цену или увеличиваем счетчик, если цена совпадает с текущим минимумом.

# Часть 2: Класс LineSegment (Задания 6-7)

Пользовательский класс, описывающий отрезок на координатной прямой.
**Поля**: X, Y (координаты концов).
**Особенность**: При создании или изменении координат происходит автоматическая нормализация (гарантируется, что $X \le Y$).

**Методы класса**

IsIntersect(LineSegment other) - Проверяет пересечение двух отрезков - формула: max(x1, x2) <= min(y1, y2)

**Тесты**:
| Отрезок 1 | Отрезок 2 | Пересекаются? |
| :--- | :--- | :--- |
| [1; 5] | [2; 6] | true |
| [1; 2] | [3; 4] | false |
| [1; 2] | [2; 3] | true (точка касания) |

## Перегрузка операторов

В соответствии с заданием реализованы следующие операторы:
| Оператор | Тип | Описание | Пример кода |
| :--- | :--- |:--- |:--- |
| ! | унарный  | вычисляет длину отрезка | Y - X |
| ++ | унарный | расширяет отрезок на 1 в обе стороны | segment++ |
| implicit | приведение | Неявное приведение к int. Возвращает целую часть X | int x = segment |
| explicit | приведение | Явное приведение к double. Возвращает координату Y | double y = (double)segment |
| - | бинарный | LineSigment - int. Уменьшает координату X | var newSegment = segment - 5; |
| - | бинарный | int - LineSigment. Уменьшает координату Y | var newSegment = 10 - segment; |
| < / > | бинарный | Проверяет перечисление отрезков | if (seg1 < seg2) ... |

## Класс CheckInput

реализованы методы для безопасного ввода от пользователя такие как:
* 'ReadDouble' - проверяет введенно ли вещественное число (принимает . и , в виде разделителя) 
* 'ReadInt' - проверяет введенно ли целое число
* 'ReadString' - запрашивает непустую строку

## Работу выполнил: Рычагов Павел Ит-12 
