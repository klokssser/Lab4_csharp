# **Лабораторная работа №4: Коллекции и перегрузка операторов**

# **Часть 1: Коллекции (Класс Tasks)**

## **1\. task1 (List)**

**Задача**: Сформировать список, включив в него элементы, входящие одновременно в оба списка L1 и L2 (пересечение).

**Метод**: Используется LINQ метод Intersect.

Тест:  
| Входные данные (L1) | Входные данные (L2) | Результат |  
| :--- | :--- | :--- |  
| \[1, 2, 3, 4, 5\] | \[3, 4, 5, 6, 7\] | \[3, 4, 5\] |

## **2\. task2 (LinkedList)**

**Задача**: В конец списка добавить все его элементы в обратном порядке.

**Метод**: Итерация исходного списка с конца и добавление элементов через AddLast.

Тест:  
| Входные данные | Результат |  
| :--- | :--- |  
| \[1, 2, 3\] | \[1, 2, 3, 3, 2, 1\] |  
| \[10\] | \[10, 10\] |

## **3\. task3 (HashSet)**

**Задача**: Анализ посещаемости ТРЦ студентами (множества).

* Где были все.  
* Где был хотя бы один.  
* Где не был никто.

**Метод**: Используются операции над множествами: IntersectWith (пересечение), UnionWith (объединение), ExceptWith (разность).

## **4\. task4 (HashSet \+ Файлы)**

**Задача**: Файл содержит текст на русском языке. Сколько разных букв встречается в тексте?

**Вход**: Текстовый файл.

**Логика**: Алгоритм считывает текст из файла, выделяет из него уникальные русские буквы (игнорируя регистр), используя HashSet\<char> для хранения, а затем выводит их количество и список в алфавитном порядке.

## **5\. task5 (List \+ Файлы \+ Классы)**

**Задача**: Соревнования по многоборью. Определить суммарный балл каждого спортсмена и его место в общем зачете.

**Структура данных**: List\<AthleteInfo>, где класс AthleteInfo хранит имя и общую сумму баллов.

**Логика**:

1. Чтение из файла количества спортсменов (N) и видов спорта (M).  
2. Для каждого спортсмена считываются баллы по всем видам спорта и суммируются.  
3. Список сортируется по убыванию суммы баллов (OrderByDescending).  
4. Места распределяются с учетом равенства баллов (если баллы равны, место не меняется).

**Формат входного файла**:

\<Число спортсменов N>  
\<Число видов спорта M>  
\<Фамилия> \<Имя> \<Балл1> \<Балл2> ... \<БаллM>  
...

# **Часть 2: Класс LineSegment (Задания 6-7)**

Пользовательский класс, описывающий отрезок на координатной прямой.  
Поля: X, Y (координаты концов).  
Особенность: При создании или изменении координат происходит автоматическая нормализация (гарантируется, что X < Y).  

**Методы класса**
Intersects(LineSegment other) \- Проверяет пересечение двух отрезков.  
Условие пересечения: max(start1, start2) \<= min(end1, end2)  
Тесты:  
| Отрезок 1 | Отрезок 2 | Пересекаются? |  
| :--- | :--- | :--- |  
| \[1; 5\] | \[2; 6\] | true |  
| \[1; 2\] | \[3; 4\] | false |  
| \[1; 2\] | \[2; 3\] | true (точка касания) |

## **Перегрузка операторов**

В соответствии с заданием реализованы следующие операторы:  
| Оператор | Тип | Описание | Пример кода |  
| :--- | :--- |:--- |:--- |  
| \! | унарный | вычисляет длину отрезка | Y \- X |  
| \++ | унарный | расширяет отрезок на 1 в обе стороны | segment++ |  
| implicit | приведение | Неявное приведение к int. Возвращает целую часть X | int x \= segment |  
| explicit | приведение | Явное приведение к double. Возвращает координату Y | double y \= (double)segment |  
| \- | бинарный | LineSegment \- int. Уменьшает координату X | var newSegment \= segment \- 5; |  
| \- | бинарный | int \- LineSegment. Уменьшает координату Y | var newSegment \= 10 \- segment; |  
| < | бинарный | Проверяет пересечение отрезков (возвращает true, если пересекаются) | if (seg1 < seg2) ... |  
| > | бинарный | Проверяет отсутствие пересечения (возвращает true, если НЕ пересекаются) | if (seg1 > seg2) ... |

## **Класс CheckInput**

Реализованы методы для безопасного ввода от пользователя, такие как:

* ReadDouble \- проверяет, введено ли вещественное число (принимает . и , в виде разделителя)  
* ReadInt \- проверяет, введено ли целое число  
* ReadPositiveInt \- проверяет ввод положительного целого числа  
* ReadArray \- считывает массив чисел из строки

## **Работу выполнил: Рычагов Павел Ит-12**
